<openhds-header [headerTitle]="this.PAGE_NAME"></openhds-header>

<ion-content padding>
  <ion-row>
    <ion-col size="4">
      <div>
        <ion-item-divider>
          <ion-text [color]="this.baselineStep === 'hierarchy' ? 'primary': 'medium'">
            <h4>Hierarchy</h4>
          </ion-text>
        </ion-item-divider>

        <!-- Load the hierarchy levels, and display the information for selected  --->
        <div padding-start *ngFor="let level of this.levels; let i = index">
          <ion-text *ngIf="level.name != this.levels[0].name">
            {{level.name}}:
            <ion-text *ngIf="this.selectedHierarchy[i+1] != undefined">
              {{this.selectedHierarchy[i + 1].name}}
            </ion-text>
          </ion-text>
        </div>
      </div>

      <div>
        <ion-item-divider>
          <ion-text [color]="this.baselineStep === 'location' ? 'primary': 'medium'">
            <h4>Location</h4>
          </ion-text>
        </ion-item-divider>
        <div padding-start *ngIf="this.selectedLocation !== undefined">
          <ion-text>
            Name: {{selectedLocation.locationName}}
          </ion-text>
          <br/>
          <ion-text>
            Type: {{selectedLocation.locationType}}
          </ion-text>
        </div>
      </div>
      <div>
        <ion-item-divider>
          <ion-text [color]="this.baselineStep === 'socialGroup' ? 'primary': 'medium'">
            <h4>Social Group</h4>
          </ion-text>
        </ion-item-divider>
        <div *ngIf="this.selectedSocialGroup !== undefined" padding-start>
          <ion-text>
            Name: {{selectedSocialGroup.groupName}}
          </ion-text>
          <br/>
          <ion-text>
            Type: {{selectedSocialGroup.groupType}}
          </ion-text>
          <br/>
          <ion-text>
            Group Head: {{selectedSocialGroup.groupHead.firstName}} {{selectedSocialGroup.groupHead.lastName}}
          </ion-text>
        </div>
      </div>
      <div>
        <ion-item-divider>
          <ion-text [color]="this.baselineStep === 'individual' ? 'primary': 'medium'">
            <h4>Individual</h4>
          </ion-text>
        </ion-item-divider>
        <ion-text padding-start *ngFor="let ind of this.selectedIndividuals">
          Name: {{ind.firstName}} {{ind.lastName}}
        </ion-text>
      </div>
      <div>
        <ion-item-divider>
          <h4>Visit</h4>
        </ion-item-divider>
      </div>
    </ion-col>
    <ion-col size="4">
      <hierarchy-list *ngIf="this.baselineStep === 'hierarchy'"
                               (selectedHierarchy)="this.setSelectedHierarchy($event)">
      </hierarchy-list>

      <location-list *ngIf="this.baselineStep ==='location'"
                     (selectedLoc)="this.setSelectedLocation($event)"
                     [parentLevel]="this.selectedHierarchy[this.selectedHierarchy.length - 1]"
                     [collectedBy]="this.collectedBy">
      </location-list>

      <social-group-list *ngIf="this.baselineStep === 'socialGroup'"
                         (selectedSg)="this.setSelectedSocialGroup($event)"
                         [collectedBy]="this.collectedBy"
                         [sgLocation]="this.selectedLocation">

      </social-group-list>
      <individual-list *ngIf="this.baselineStep === 'individual'"
                       (selectedIndividual)="this.setSelectedIndividuals($event)"
                       [collectedBy]="this.collectedBy" [loc]="this.selectedLocation" [sg]="this.selectedSocialGroup">
      </individual-list>
    </ion-col>
    <ion-col>
      <div *ngIf="this.baselineStep === 'location'" responsive>
          <ion-button fill="outline" expand="full" (click)="this.goToCreatePage()">Create Location</ion-button>
      </div>

      <div *ngIf="this.baselineStep === 'socialGroup'">
        <ion-button fill="outline" expand="full" responsive>
          Create Social Group
        </ion-button>
        <br>
        <ion-button fill="outline" expand="full" responsive>
          Move Up Level in Location Hierarchy
        </ion-button>
        <ion-button fill="outline" expand="full" responsive>
          Move Down Level in Location Hierarchy
        </ion-button>
      </div>

      <div *ngIf="this.baselineStep === 'individual'" responsive>
        <ion-button fill="outline" expand="full" >
          Create Individual
        </ion-button>
      </div>
    </ion-col>
  </ion-row>
</ion-content>


